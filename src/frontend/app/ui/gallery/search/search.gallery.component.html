<form class="navbar-form" role="search" #SearchForm="ngForm">
  <div class="input-group">

    <app-gallery-search-field  [(ngModel)]="rawSearchText"
                              (ngModelChange)="validateRawSearchText()"
                               class="search-field"
                               (search)="Search()"
    name="search-field">

    </app-gallery-search-field>

    <div class="input-group-btn" style="display: block">
      <button class="btn btn-light" type="button"
              [routerLink]="['/search', HTMLSearchQuery]">
        <span class="oi oi-magnifying-glass"></span>
      </button>
    </div>

    <div class="input-group-btn" style="display: block">
      <button class="btn btn-light" type="button" (click)="openModal(searchModal)">
        <span class="oi oi-chevron-bottom"></span>
      </button>
    </div>
  </div>
</form>


<ng-template #searchModal>
  <!-- sharing Modal-->
  <div class="modal-header">
    <h5 class="modal-title" i18n>Search</h5>
    <button type="button" class="close" (click)="hideModal()" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form #searchPanelForm="ngForm" class="form-horizontal">
      <app-gallery-search-field [(ngModel)]="rawSearchText"
                                (ngModelChange)="validateRawSearchText()"
                                (search)="Search()"
                                name="form-search-field">

      </app-gallery-search-field>

      <app-gallery-search-query-entry
        [(ngModel)]="searchQueryDTO"
        (change)="onQueryChange()"
        name="search-root"
        (delete)="resetQuery()">

      </app-gallery-search-query-entry>

      <div class="input-group-btn float-right" style="display: block">
        <button class="btn btn-primary" type="button"
                [routerLink]="['/search', HTMLSearchQuery]"
                (click)="hideModal()">
          <span class="oi oi-magnifying-glass"></span> Search
        </button>
      </div>
    </form>
  </div>
</ng-template>
